# set ctrl-a as prefix
set-option -g prefix C-a
unbind C-b

# enable 256 color terminal
set -g default-terminal "screen-256color"
# tell Tmux that outside terminal supports true color
set -ga terminal-overrides ",xterm-256color*:Tc"

# escape time
set-option -sg escape-time 10

# start numbering at 1
set -g base-index 1

# start pane numbering at 1
set -g pane-base-index 1

# monitor window activity. Windows with activity are highlighted in the status line:
setw -g monitor-activity on

# automatically re-number windows after one of them is closed.
set -g renumber-windows on

# highlight active window
set-window-option -g window-status-current-style bg=red

# don't rename windows automatically
set-option -g allow-rename off

# scroll History
set -g history-limit 30000

# mouse Mode
set -g mouse on

# refresh the status bar every 1 second.
set-option -g status-interval 5

# reload config
bind-key r source-file ~/.tmux.conf \; display-message "Configuration reloaded"

# use ALT-arrow keys to switch panes.
bind-key -n M-Left select-pane -L
bind-key -n M-Right select-pane -R
bind-key -n M-Up select-pane -U
bind-key -n M-Down select-pane -D

# resize panes
bind-key -r J resize-pane -D 1 
bind-key -r K resize-pane -U 1 
bind-key -r H resize-pane -L 1 
bind-key -r L resize-pane -R 1 

# shift arrow to switch windows.
bind -n S-Left previous-window
bind -n S-Right next-window

# set easier window split keys
bind-key v split-window -h
bind-key h split-window -v

# command/message line colors
set-option -g message-style fg=white
set-option -g message-style bg=black
set-option -g message-style bright

# statusbar colors
set-option -g status-style fg=white
set-option -g status-style bg=black
set-option -g status-style default

# window title colors; non active
set-window-option -g window-status-style fg=cyan
set-window-option -g window-status-style bg=default
set-window-option -g window-status-style dim

# window title colors; active
set-window-option -g window-status-current-style fg=white #font
set-window-option -g window-status-current-style bg=red   #boarder
# set-window-option -g window-status-current-style bright

# status Bar
set-option -g status-justify centre
set-option -g status-left-length 40
set-option -g status-left "#[fg=green]Session: #S #[fg=cyan]#P"
set-option -g status-right "#[fg=cyan]#(~/Scripts/battery) | #[fg=cyan]%a %d/%m/%y %R:%p"

# vim keys in copy and choose mode
set-window-option -g mode-keys vi

# urlscan as context and url view
bind-key U capture-pane \; save-buffer /tmp/tmux-buffer \; \
    new-window -n "urlscan" '$SHELL -c "urlscan -c < /tmp/tmux-buffer"'

# copying selection vim style
bind-key [ copy-mode           # enter copy mode; default [
bind-key ] paste-buffer             # paste; (default hotkey: ] )
bind-key P choose-buffer            # tmux clipboard history
bind-key + delete-buffer \; display-message "Deleted current Tmux Clipboard History"

# send To Tmux Clipboard or System Clipboard
bind-key < run-shell "tmux set-buffer -- \"$(xsel -o -b)\"" \; display-message "Copy To Tmux Clipboard"
bind-key > run-shell 'tmux show-buffer | xsel -i -b' \; display-message "Copy To System Clipboard"

# copy mode rebinds
bind-key -T copy-mode-vi v send-keys -X begin-selection; \
bind-key -T copy-mode-vi V send-keys -X select-line; \
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle; \

# music
bind-key M-m new-window -n music \; \
    send-keys -t music 'cd ~/Music/' 'Enter' \; \
    send-keys -t music 'cmus' 'Enter' \; \

# filemanger
bind-key M-r new-window -n filemanager \; \
    send-keys -t filemanager 'ranger' 'Enter' \; \

# feeds
bind-key M-n new-window -n feeds \; \
    send-keys -t feeds 'cd ~/Downloads/Torrents/' 'Enter' \; \
    send-keys -t feeds 'newsboat' 'Enter' \; \

# email
bind-key M-e new-window -n email \; \
    send-keys -t email 'cd ~/Documents/Mail/' 'Enter' \; \
    send-keys -t email 'neomutt' 'Enter' \; \

# chat
bind-key M-w new-window -n chat \; \
    send-keys -t chat 'weechat' 'Enter' \; \
